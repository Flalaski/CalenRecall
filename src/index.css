* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* Paper-like noise texture - ever-shifting, more visible in shadows */
@keyframes paperNoise {
  0% {
    background-position: 0% 0%;
    opacity: 0.02;
  }
  25% {
    background-position: 100% 50%;
    opacity: 0.035;
  }
  50% {
    background-position: 50% 100%;
    opacity: 0.025;
  }
  75% {
    background-position: 0% 75%;
    opacity: 0.04;
  }
  100% {
    background-position: 100% 0%;
    opacity: 0.02;
  }
}

/* Generate noise texture using SVG filter */
.paper-texture::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  background-size: 200px 200px;
  animation: paperNoise 20s ease-in-out infinite;
  mix-blend-mode: overlay;
  opacity: 0.15;
  z-index: 1;
}

/* Dark theme - noise more visible in shadows */
[data-theme="dark"] .paper-texture::before {
  mix-blend-mode: screen;
  opacity: 0.25;
  filter: contrast(1.2) brightness(0.8);
}

/* Apply paper texture to all elements with backgrounds */
body,
.app,
.app-content,
.timeline-section,
.editor-section,
.navigation-bar,
.journal-list,
.journal-list-header,
.journal-entry-item,
.entry-viewer,
.viewer-header,
.viewer-content,
.journal-editor,
.editor-header,
.timeline-grid,
.timeline-cell,
.entry-badge,
.week-entry-group,
.week-entries-header,
.period-entry-item,
.export-bar,
.nav-button,
.view-mode-button,
.preferences-container,
.preferences-header,
.preferences-section,
.preference-note,
.about-section,
.editor-form,
.editor-footer,
.confirm-dialog,
.week-entry-item,
.month-week-entries-section,
.entry-card,
.entry-card-full,
.cell-date,
.day-header,
.hotkey-diagram-hologram,
.hotkey-key-item,
.hotkey-key,
.tag,
.new-entry-button,
.new-entry-button-header,
.add-tag-button,
.save-button,
.cancel-button,
.delete-button,
.reset-button,
.export-button,
.export-select,
.global-timeline-minimap,
.minimap-container {
  position: relative;
}

body::before,
.app::before,
.app-content::before,
.timeline-section::before,
.editor-section::before,
.navigation-bar::before,
.journal-list::before,
.journal-list-header::before,
.journal-entry-item::before,
.entry-viewer::before,
.viewer-header::before,
.viewer-content::before,
.journal-editor::before,
.editor-header::before,
.timeline-grid::before,
.timeline-cell::before,
.entry-badge::before,
.week-entry-group::before,
.week-entries-header::before,
.period-entry-item::before,
.export-bar::before,
.nav-button::before,
.view-mode-button::before,
.preferences-container::before,
.preferences-header::before,
.preferences-section::before,
.preference-note::before,
.about-section::before,
.editor-form::before,
.editor-footer::before,
.confirm-dialog::before,
.week-entry-item::before,
.month-week-entries-section::before,
.entry-card::before,
.entry-card-full::before,
.cell-date::before,
.day-header::before,
.hotkey-diagram-hologram::before,
.hotkey-key-item::before,
.hotkey-key::before,
.tag::before,
.new-entry-button::before,
.new-entry-button-header::before,
.add-tag-button::before,
.save-button::before,
.cancel-button::before,
.delete-button::before,
.reset-button::before,
.export-button::before,
.export-select::before,
.global-timeline-minimap::before,
.minimap-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  background-size: 200px 200px;
  animation: paperNoise 20s ease-in-out infinite;
  mix-blend-mode: overlay;
  opacity: 0.15;
  z-index: 1;
  border-radius: inherit;
}

/* Only show noise on elements that have a background color/image */
body::before,
.app::before,
.app-content::before,
.timeline-section::before,
.editor-section::before,
.navigation-bar::before,
.journal-list::before,
.journal-list-header::before,
.journal-entry-item::before,
.entry-viewer::before,
.viewer-header::before,
.viewer-content::before,
.journal-editor::before,
.editor-header::before,
.timeline-grid::before,
.timeline-cell::before,
.entry-badge::before,
.week-entry-group::before,
.week-entries-header::before,
.period-entry-item::before,
.export-bar::before,
.nav-button::before,
.view-mode-button::before,
.preferences-container::before,
.preferences-header::before,
.preferences-section::before,
.preference-note::before,
.about-section::before,
.editor-form::before,
.editor-footer::before,
.confirm-dialog::before,
.week-entry-item::before,
.month-week-entries-section::before,
.entry-card::before,
.entry-card-full::before,
.cell-date::before,
.day-header::before,
.hotkey-diagram-hologram::before,
.hotkey-key-item::before,
.hotkey-key::before,
.tag::before,
.new-entry-button::before,
.new-entry-button-header::before,
.add-tag-button::before,
.save-button::before,
.cancel-button::before,
.delete-button::before,
.reset-button::before,
.export-button::before,
.export-select::before {
  opacity: 0.15;
}

[data-theme="dark"] body::before,
[data-theme="dark"] .app::before,
[data-theme="dark"] .app-content::before,
[data-theme="dark"] .timeline-section::before,
[data-theme="dark"] .editor-section::before,
[data-theme="dark"] .navigation-bar::before,
[data-theme="dark"] .journal-list::before,
[data-theme="dark"] .journal-list-header::before,
[data-theme="dark"] .journal-entry-item::before,
[data-theme="dark"] .entry-viewer::before,
[data-theme="dark"] .viewer-header::before,
[data-theme="dark"] .viewer-content::before,
[data-theme="dark"] .journal-editor::before,
[data-theme="dark"] .editor-header::before,
[data-theme="dark"] .timeline-grid::before,
[data-theme="dark"] .timeline-cell::before,
[data-theme="dark"] .entry-badge::before,
[data-theme="dark"] .week-entry-group::before,
[data-theme="dark"] .week-entries-header::before,
[data-theme="dark"] .period-entry-item::before,
[data-theme="dark"] .export-bar::before,
[data-theme="dark"] .nav-button::before,
[data-theme="dark"] .view-mode-button::before,
[data-theme="dark"] .preferences-container::before,
[data-theme="dark"] .preferences-header::before,
[data-theme="dark"] .preferences-section::before,
[data-theme="dark"] .preference-note::before,
[data-theme="dark"] .about-section::before,
[data-theme="dark"] .editor-form::before,
[data-theme="dark"] .editor-footer::before,
[data-theme="dark"] .confirm-dialog::before,
[data-theme="dark"] .week-entry-item::before,
[data-theme="dark"] .month-week-entries-section::before,
[data-theme="dark"] .entry-card::before,
[data-theme="dark"] .entry-card-full::before,
[data-theme="dark"] .cell-date::before,
[data-theme="dark"] .day-header::before,
[data-theme="dark"] .hotkey-diagram-hologram::before,
[data-theme="dark"] .hotkey-key-item::before,
[data-theme="dark"] .hotkey-key::before,
[data-theme="dark"] .tag::before,
[data-theme="dark"] .new-entry-button::before,
[data-theme="dark"] .new-entry-button-header::before,
[data-theme="dark"] .add-tag-button::before,
[data-theme="dark"] .save-button::before,
[data-theme="dark"] .cancel-button::before,
[data-theme="dark"] .delete-button::before,
[data-theme="dark"] .reset-button::before,
[data-theme="dark"] .export-button::before,
[data-theme="dark"] .export-select::before,
[data-theme="dark"] .global-timeline-minimap::before,
[data-theme="dark"] .minimap-container::before {
  mix-blend-mode: screen;
  opacity: 0.25;
  filter: contrast(1.2) brightness(0.8);
}

/* Minimap enhanced shadow depth with noise - shadows glow with saturation and depth */
.global-timeline-minimap::after,
.minimap-container::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  background-size: 150px 150px;
  animation: paperNoise 25s ease-in-out infinite reverse;
  mix-blend-mode: multiply;
  opacity: 0.2;
  z-index: 0;
  filter: blur(0.5px) saturate(1.5) contrast(1.2);
}

/* Dark theme - enhanced glow in shadows with deeper saturation */
[data-theme="dark"] .global-timeline-minimap::after,
[data-theme="dark"] .minimap-container::after {
  mix-blend-mode: color-burn;
  opacity: 0.3;
  filter: blur(1px) saturate(1.8) contrast(1.4) brightness(0.85);
}

body {
  /* Multilingual font stack: Noto Sans for comprehensive Unicode support, Inter for Latin text, system fonts as fallback */
  font-family: 'Noto Sans', 'Noto Sans SC', 'Noto Sans Arabic', 'Noto Sans Hebrew', 'Noto Sans Thai',
    'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    'Microsoft YaHei', 'SimHei', 'PingFang SC', 'Hiragino Sans GB', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: #f5f5f5;
  color: #333;
  overflow: hidden;
}

/* Theme support */
[data-theme="dark"] {
  background: #1e1e1e;
  color: #e0e0e0;
}

[data-theme="dark"] body {
  background: #1e1e1e;
  color: #e0e0e0;
}

[data-theme="dark"] .app {
  background: #1e1e1e;
  color: #e0e0e0;
}

[data-theme="dark"] .app-content {
  background: #2d2d2d;
}

[data-theme="dark"] .timeline-section {
  background: #252525;
}

[data-theme="dark"] .editor-section {
  background: #2d2d2d;
  border-left-color: #4a90e2;
}

/* Navigation Bar Dark Theme */
[data-theme="dark"] .navigation-bar {
  background: #2d2d2d;
  border-bottom-color: #404040;
}

[data-theme="dark"] .nav-button,
[data-theme="dark"] .view-mode-button {
  background: #3d3d3d;
  border-color: #555;
  color: #e0e0e0;
}

[data-theme="dark"] .nav-button:hover,
[data-theme="dark"] .view-mode-button:hover {
  background: #4d4d4d;
  border-color: #666;
}


/* Timeline View Dark Theme */
[data-theme="dark"] .timeline-loading {
  color: #b0b0b0;
}

[data-theme="dark"] .weekday-header {
  background: #2d2d2d;
  border-bottom-color: #404040;
  color: #b0b0b0;
}

[data-theme="dark"] .timeline-grid {
  background: #2d2d2d;
}

[data-theme="dark"] .timeline-cell {
  background: #2d2d2d;
  border-color: #404040;
  color: #e0e0e0;
}

[data-theme="dark"] .timeline-cell:hover {
  background: #353535;
  border-color: #4a90e2;
}

[data-theme="dark"] .timeline-cell.empty-cell {
  background: #252525;
}

[data-theme="dark"] .timeline-cell.today {
  background: #1e3a5f;
  border-color: #4a90e2;
}

[data-theme="dark"] .timeline-cell.has-entries {
  background: #3d3520;
}

[data-theme="dark"] .cell-date {
  color: #e0e0e0;
  border-bottom-color: #404040;
}

[data-theme="dark"] .entry-badge {
  background: #3d3d3d;
  color: #e0e0e0;
  border-color: #555;
}

/* Override entry-badge color for light-colored entry types */
[data-theme="dark"] .entry-badge.entry-day,
[data-theme="dark"] .entry-badge.entry-week,
[data-theme="dark"] .entry-badge.entry-month,
[data-theme="dark"] .entry-badge.entry-year,
[data-theme="dark"] .entry-badge.entry-decade {
  color: inherit; /* Let the entry type class set the color */
}

[data-theme="dark"] .month-week-entries-section {
  background: #252525;
  border-left-color: #404040;
}

[data-theme="dark"] .week-entries-header {
  background: #2d2d2d;
  border-bottom-color: #404040;
  color: #e0e0e0;
}

[data-theme="dark"] .week-entry-group {
  background: #2d2d2d;
  border-color: #404040;
}

[data-theme="dark"] .week-entry-group-header {
  border-bottom-color: #404040;
}

[data-theme="dark"] .week-label {
  color: #b0b0b0;
}

[data-theme="dark"] .week-entry-title {
  color: #1a1a1a;
  font-weight: 600;
}

[data-theme="dark"] .badge-title {
  color: #1a1a1a;
  font-weight: 500;
}

/* Ensure badge titles are dark on light-colored entry backgrounds */
[data-theme="dark"] .entry-day .badge-title,
[data-theme="dark"] .entry-week .badge-title,
[data-theme="dark"] .entry-month .badge-title,
[data-theme="dark"] .entry-year .badge-title,
[data-theme="dark"] .entry-decade .badge-title {
  color: #1a1a1a;
}

[data-theme="dark"] .card-title {
  color: #1a1a1a;
  font-weight: 600;
}

[data-theme="dark"] .card-title-full {
  color: #1a1a1a;
  font-weight: 600;
}

[data-theme="dark"] .day-header h2 {
  color: #ffffff;
}

[data-theme="dark"] .cell-month-label,
[data-theme="dark"] .cell-year-label {
  color: #ffffff;
  font-weight: 700;
}

[data-theme="dark"] .year-pixel-map {
  background: rgba(255, 255, 255, 0.05);
}

[data-theme="dark"] .month-pixel-map {
  background: rgba(255, 255, 255, 0.05);
}

[data-theme="dark"] .week-entry-item {
  background: #353535;
  border-left-color: #4caf50;
}

[data-theme="dark"] .week-entry-item:hover {
  background: #3d3d3d;
}

[data-theme="dark"] .week-entry-title {
  color: #ffffff;
  font-weight: 600;
}

[data-theme="dark"] .week-entry-empty {
  color: #888;
}

/* Entry Viewer Dark Theme */
[data-theme="dark"] .entry-viewer {
  background: #2d2d2d;
}

[data-theme="dark"] .viewer-header {
  background: linear-gradient(to bottom, #2d2d2d, #252525);
  border-bottom-color: #404040;
}

[data-theme="dark"] .edit-button {
  background: #3d3d3d;
  color: #e0e0e0;
  border-color: #555;
}

[data-theme="dark"] .edit-button:hover {
  background: #4d4d4d;
  border-color: #666;
}

[data-theme="dark"] .entry-meta small {
  color: #b0b0b0;
}

[data-theme="dark"] .viewer-content {
  background: #2d2d2d;
}

[data-theme="dark"] .viewer-title {
  color: #ffffff;
  font-weight: 700;
  border-bottom-color: #404040;
}

[data-theme="dark"] .viewer-text {
  color: #d0d0d0;
}

[data-theme="dark"] .viewer-empty {
  color: #b0b0b0;
}

[data-theme="dark"] .period-entry-item {
  background: #2d2d2d;
  border-color: #404040;
}

[data-theme="dark"] .period-entry-item:hover {
  border-color: #4a90e2;
}

[data-theme="dark"] .period-entry-title {
  color: #ffffff;
  font-weight: 600;
}

[data-theme="dark"] .period-entry-date {
  color: #b0b0b0;
}

[data-theme="dark"] .period-entry-content {
  color: #d0d0d0;
}

[data-theme="dark"] .period-entry-tags {
  border-top-color: #404040;
}

/* Journal Editor Dark Theme */
[data-theme="dark"] .journal-editor {
  background: #2d2d2d;
}

[data-theme="dark"] .editor-header {
  background: linear-gradient(to bottom, #2d2d2d, #252525);
  border-bottom-color: #404040;
}

[data-theme="dark"] .editor-header h3 {
  color: #ffffff;
  font-weight: 600;
}

[data-theme="dark"] .viewer-header h3 {
  color: #ffffff;
  font-weight: 600;
}

[data-theme="dark"] .badge-title {
  color: #ffffff;
  font-weight: 500;
}

[data-theme="dark"] .card-title {
  color: #1a1a1a;
  font-weight: 600;
}

[data-theme="dark"] .card-title-full {
  color: #1a1a1a;
  font-weight: 600;
}

/* Ensure card titles are dark on light-colored entry card backgrounds */
[data-theme="dark"] .entry-card-full.entry-day .card-title-full,
[data-theme="dark"] .entry-card-full.entry-week .card-title-full,
[data-theme="dark"] .entry-card-full.entry-month .card-title-full,
[data-theme="dark"] .entry-card-full.entry-year .card-title-full,
[data-theme="dark"] .entry-card-full.entry-decade .card-title-full,
[data-theme="dark"] .entry-card.entry-day .card-title,
[data-theme="dark"] .entry-card.entry-week .card-title,
[data-theme="dark"] .entry-card.entry-month .card-title,
[data-theme="dark"] .entry-card.entry-year .card-title,
[data-theme="dark"] .entry-card.entry-decade .card-title {
  color: #1a1a1a;
}

[data-theme="dark"] .day-header h2 {
  color: #ffffff;
  font-weight: 600;
}

[data-theme="dark"] .cell-month-label,
[data-theme="dark"] .cell-year-label {
  color: #ffffff;
  font-weight: 700;
}

[data-theme="dark"] .date-label-decade {
  color: #9c27b0;
}

[data-theme="dark"] .date-label-year {
  color: #0277bd;
}

[data-theme="dark"] .date-label-month {
  color: #ef6c00;
}

[data-theme="dark"] .date-label-week {
  color: #2e7d32;
}

[data-theme="dark"] .date-label-day {
  color: #c2185b;
}

[data-theme="dark"] .editor-form input,
[data-theme="dark"] .editor-form textarea {
  background: #353535;
  border-color: #555;
  color: #e0e0e0;
}

[data-theme="dark"] .editor-form input:focus,
[data-theme="dark"] .editor-form textarea:focus {
  border-color: #4a90e2;
  background: #3d3d3d;
}

[data-theme="dark"] .tag-input-container {
  background: #353535;
  border-color: #555;
}

[data-theme="dark"] .tag {
  background: #1e3a5f;
  color: #90caf9;
}

[data-theme="dark"] .tag:hover {
  background: #2563eb;
}

/* Global Timeline Minimap Dark Theme */
[data-theme="dark"] .global-timeline-minimap {
  background: linear-gradient(to bottom, #252525, #1e1e1e);
  border-bottom-color: #404040;
}

[data-theme="auto"] {
  /* System theme - handled by OS */
  @media (prefers-color-scheme: dark) {
    background: #1e1e1e;
    color: #e0e0e0;
  }
}

/* Font size support */
[data-font-size="small"] {
  font-size: 0.875rem;
}

[data-font-size="medium"] {
  font-size: 1rem;
}

[data-font-size="large"] {
  font-size: 1.125rem;
}

#root {
  width: 100vw;
  height: 100vh;
  overflow: hidden;
}

code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
    monospace;
}

button {
  cursor: pointer;
  border: none;
  background: none;
  font-family: inherit;
}

input, textarea {
  font-family: inherit;
}

