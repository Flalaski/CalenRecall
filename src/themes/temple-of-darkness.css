/**
 * Temple of Darkness Theme - Textured Metal Bar Dungeon
 * Industrial dungeon aesthetic with textured metal bars, rusted steel, and harsh lighting
 * Prison-like design with metal bar patterns, industrial textures, and confined spaces
 * 
 * Design Elements:
 * - Textured metal bars: Vertical and horizontal bar patterns, steel grids
 * - Rusted metals: Weathered steel, oxidized iron, corroded surfaces
 * - Industrial lighting: Harsh dim lights, flickering bulbs, deep shadows
 * - Dark accents: Steel grays, rust oranges, industrial blues
 * - Prison architecture: Metal bars, riveted panels, confined spaces
 */

/* ============================================
   COLOR PALETTE - CSS Custom Properties
   ============================================ */
[data-theme="temple-of-darkness"] {
  /* Backgrounds - Dark metal dungeon tones */
  --temple-bg: #1a1a1a;                    /* Primary dark metal */
  --temple-bg-secondary: #151515;           /* Secondary dark metal */
  --temple-bg-tertiary: #0f0f0f;           /* Tertiary darkest metal */
  --temple-bg-hover: #252525;              /* Hover state */
  --temple-bg-dark: #0a0a0a;               /* Darkest metal accent */
  
  /* Text - Industrial steel tones */
  --text-primary: #b0b0b0;                /* Steel gray for primary text */
  --text-secondary: #c0c0c0;              /* Lighter steel for secondary text */
  --text-muted: #808080;                  /* Darker steel for muted text */
  --text-entry-bright: #e0e0e0;           /* Bright steel for entry text */
  --text-title-bright: #f0f0f0;           /* Bright steel for titles */
  
  /* Text shadow - Subtle industrial glow with Sith red accent */
  --text-glow: 
    0 0 2px rgba(176, 176, 176, 0.3),
    0 0 4px rgba(139, 0, 0, 0.2),
    0 1px 2px rgba(0, 0, 0, 0.8);
  
  /* Metal Bar Colors */
  --metal-bar: #3a3a3a;                   /* Metal bar color */
  --metal-bar-light: #4a4a4a;            /* Lighter bar */
  --metal-bar-dark: #2a2a2a;              /* Darker bar */
  --metal-bar-shadow: #1a1a1a;           /* Bar shadow */
  
  /* Steel Colors - Industrial metals */
  --steel-dark: #2a2a2a;                  /* Dark steel */
  --steel-medium: #3a3a3a;                /* Medium steel */
  --steel-light: #4a4a4a;                 /* Light steel */
  --steel-bright: #5a5a5a;                /* Bright steel */
  
  /* Rust Colors - Oxidized metal */
  --rust-dark: #5a3a2a;                   /* Dark rust */
  --rust-medium: #7a4a3a;                 /* Medium rust */
  --rust-light: #9a6a4a;                  /* Light rust */
  --rust-accent: #8b5a3a;                 /* Rust accent */
  
  /* Sith Red Colors - Dark side accent gradients */
  --sith-red-dark: #4a0000;               /* Darkest Sith red */
  --sith-red: #8b0000;                    /* Deep Sith red */
  --sith-red-medium: #b00000;             /* Medium Sith red */
  --sith-red-bright: #d40000;             /* Bright Sith red */
  --sith-red-crimson: #c00000;            /* Crimson Sith red */
  --sith-red-blood: #9a0000;              /* Blood red */
  
  /* Sith Red Gradients */
  --sith-gradient-dark: linear-gradient(135deg, #4a0000 0%, #8b0000 50%, #4a0000 100%);
  --sith-gradient: linear-gradient(135deg, #8b0000 0%, #b00000 50%, #8b0000 100%);
  --sith-gradient-bright: linear-gradient(135deg, #b00000 0%, #d40000 50%, #b00000 100%);
  --sith-gradient-vertical: linear-gradient(180deg, #4a0000 0%, #8b0000 50%, #4a0000 100%);
  --sith-gradient-horizontal: linear-gradient(90deg, #4a0000 0%, #8b0000 50%, #4a0000 100%);
  
  /* Industrial Colors - Harsh lighting */
  --industrial-blue: #3a4a5a;             /* Industrial blue */
  --industrial-blue-light: #4a5a6a;
  --industrial-blue-dark: #2a3a4a;
  --warning-orange: #8b6a3a;              /* Warning orange */
  --warning-orange-light: #ab8a5a;
  --warning-orange-dark: #6b4a1a;
  
  /* Metal Accents */
  --metal-iron: #4a4a4a;                   /* Rusted iron */
  --metal-iron-light: #5a5a5a;
  --metal-iron-dark: #3a3a3a;
  --metal-steel: #3a3a3a;                 /* Weathered steel */
  --metal-steel-light: #4a4a4a;
  --metal-steel-dark: #2a2a2a;
  
  /* Borders - Metal bars and steel with Sith accents */
  --border-metal: var(--metal-bar);
  --border-metal-light: var(--metal-bar-light);
  --border-steel: var(--steel-medium);
  --border-rust: var(--rust-medium);
  --border-sith: var(--sith-red);
  
  /* Highlights with Sith red accents */
  --highlight-metal: rgba(74, 74, 74, 0.3);
  --highlight-rust: rgba(123, 90, 58, 0.2);
  --highlight-steel: rgba(90, 90, 90, 0.25);
  --highlight-industrial: rgba(58, 74, 90, 0.2);
  --highlight-sith: rgba(139, 0, 0, 0.3);
  --highlight-sith-bright: rgba(212, 0, 0, 0.2);
  
  /* Calendar Text - Steel with subtle rust accent */
  --calendar-text: #b0b0b0;               /* Steel gray for calendar */
  --calendar-text-light: #c0c0c0;
  --calendar-text-dark: #808080;
  
  /* Base Typography - Industrial sans-serif */
  font-family: 'Arial', 'Helvetica', sans-serif;
  font-size: 14px;
  line-height: 1.6;
}

/* ============================================
   BASE STYLES - Textured Metal Bar Background
   ============================================ */
[data-theme="temple-of-darkness"] html,
[data-theme="temple-of-darkness"] body {
  background: var(--temple-bg);
  color: var(--text-primary);
  text-shadow: var(--text-glow);
  --theme-body-bg: var(--temple-bg);
  /* Metal bar texture with vertical and horizontal bars, rust spots, and industrial lighting */
  background-image: 
    /* Vertical metal bars */
    repeating-linear-gradient(90deg, 
      transparent 0px, 
      transparent 8px, 
      rgba(58, 58, 58, 0.15) 8px, 
      rgba(58, 58, 58, 0.15) 9px,
      transparent 9px,
      transparent 17px
    ),
    /* Horizontal metal bars */
    repeating-linear-gradient(0deg, 
      transparent 0px, 
      transparent 8px, 
      rgba(58, 58, 58, 0.12) 8px, 
      rgba(58, 58, 58, 0.12) 9px,
      transparent 9px,
      transparent 17px
    ),
    /* Rust spots and weathering */
    radial-gradient(circle at 15% 25%, rgba(123, 90, 58, 0.08) 0%, transparent 40%),
    radial-gradient(circle at 85% 75%, rgba(123, 90, 58, 0.06) 0%, transparent 40%),
    radial-gradient(circle at 50% 50%, rgba(58, 74, 90, 0.04) 0%, transparent 50%),
    /* Metal surface texture */
    repeating-linear-gradient(45deg, 
      transparent, 
      transparent 1px, 
      rgba(26, 26, 26, 0.1) 1px, 
      rgba(26, 26, 26, 0.1) 2px
    ),
    /* Base metal gradient */
    linear-gradient(135deg, #1a1a1a 0%, #151515 48%, #0f0f0f 100%);
  background-attachment: fixed;
  position: relative;
}

[data-theme="temple-of-darkness"] #root {
  background: var(--temple-bg);
}

[data-theme="temple-of-darkness"] .app {
  background: var(--temple-bg);
}

[data-theme="temple-of-darkness"] .app-content {
  background: var(--temple-bg);
  gap: 2px;
}

[data-theme="temple-of-darkness"] .timeline-section {
  background: var(--temple-bg);
}

[data-theme="temple-of-darkness"] .editor-section {
  background: var(--temple-bg-secondary);
  border-left: 3px solid var(--sith-red);
  box-shadow: inset 4px 0 12px rgba(0, 0, 0, 0.6), inset -2px 0 8px rgba(139, 0, 0, 0.3), 0 0 6px rgba(139, 0, 0, 0.15);
  position: relative;
  /* Metal bar pattern overlay with Sith red tint */
  background-image: 
    repeating-linear-gradient(90deg, 
      transparent 0px, 
      transparent 8px, 
      rgba(58, 58, 58, 0.1) 8px, 
      rgba(58, 58, 58, 0.1) 9px
    ),
    linear-gradient(180deg, 
      transparent 0%,
      rgba(139, 0, 0, 0.03) 50%,
      transparent 100%
    );
}

/* Sith red metal bar detail on editor section */
[data-theme="temple-of-darkness"] .editor-section::before {
  content: '';
  position: absolute;
  top: 0;
  left: -3px;
  width: 3px;
  height: 100%;
  background: var(--sith-gradient-vertical);
  box-shadow: inset 0 0 4px rgba(26, 0, 0, 0.8), 0 0 3px rgba(139, 0, 0, 0.5), 0 0 6px rgba(212, 0, 0, 0.2);
}

/* ============================================
   NAVIGATION BAR - Metal bar with industrial accents
   ============================================ */
[data-theme="temple-of-darkness"] .navigation-bar {
  background: var(--temple-bg-secondary);
  border-bottom: 3px solid var(--sith-red);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.7), inset 0 -1px 0 rgba(139, 0, 0, 0.4), 0 0 8px rgba(139, 0, 0, 0.2);
  position: relative;
  /* Horizontal metal bar pattern with Sith red tint */
  background-image: 
    repeating-linear-gradient(0deg, 
      transparent 0px, 
      transparent 8px, 
      rgba(58, 58, 58, 0.15) 8px, 
      rgba(58, 58, 58, 0.15) 9px
    ),
    linear-gradient(90deg, 
      transparent 0%,
      rgba(139, 0, 0, 0.05) 50%,
      transparent 100%
    );
}

[data-theme="temple-of-darkness"] .navigation-bar::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: var(--sith-gradient-horizontal);
  opacity: 0.6;
  box-shadow: 0 1px 3px rgba(139, 0, 0, 0.5), 0 0 6px rgba(212, 0, 0, 0.3);
}

[data-theme="temple-of-darkness"] .navigation-bar-top-row {
  background: var(--temple-bg-secondary);
  border-bottom: 1px solid var(--border-metal);
}

[data-theme="temple-of-darkness"] .nav-controls {
  background: transparent;
}

/* Navigation buttons are styled in the BUTTONS section above */

[data-theme="temple-of-darkness"] .view-mode-button.active {
  background: var(--temple-bg-secondary) !important;
  color: var(--text-secondary) !important;
  border-color: var(--border-metal-light) !important;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.4);
  opacity: 0.9;
}

/* Today button is styled in the BUTTONS section above */

[data-theme="temple-of-darkness"] .date-label {
  font-family: 'Arial', 'Helvetica', sans-serif;
  color: var(--text-primary) !important;
  font-weight: 600;
  letter-spacing: 0.01em;
  text-shadow: var(--text-glow) !important;
}

/* Date Input Components */
[data-theme="temple-of-darkness"] .date-input {
  background: var(--temple-bg-secondary);
  border: 1px solid var(--border-metal);
  border-radius: 2px;
  color: var(--text-primary);
  font-family: 'Arial', 'Helvetica', sans-serif;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.4);
}

[data-theme="temple-of-darkness"] .date-input::placeholder {
  color: var(--text-muted);
}

[data-theme="temple-of-darkness"] .date-input:hover {
  background: var(--temple-bg-hover);
  border-color: var(--metal-bar-light);
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(74, 74, 74, 0.3);
}

[data-theme="temple-of-darkness"] .date-input:focus {
  background: var(--temple-bg);
  border-color: var(--sith-red);
  box-shadow: 0 0 0 2px rgba(139, 0, 0, 0.4), 0 0 6px rgba(212, 0, 0, 0.2), inset 0 2px 4px rgba(0, 0, 0, 0.4);
  outline: none;
}

[data-theme="temple-of-darkness"] .date-input.error {
  border-color: var(--rust-medium);
  background: rgba(122, 74, 58, 0.15);
}

[data-theme="temple-of-darkness"] .date-field-label {
  color: var(--text-secondary) !important;
  font-family: 'Arial', 'Helvetica', sans-serif;
  text-shadow: var(--text-glow) !important;
}

[data-theme="temple-of-darkness"] .date-field-separator {
  color: var(--sith-red);
  text-shadow: 0 0 4px rgba(139, 0, 0, 0.5);
}

/* ============================================
   CALENDAR VIEW - Metal bars with Sith red accents
   ============================================ */
[data-theme="temple-of-darkness"] .calendar-grid {
  background: var(--temple-bg-secondary);
  border: 2px solid var(--sith-red);
  border-radius: 4px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.7), inset 0 1px 0 rgba(139, 0, 0, 0.3), 0 0 8px rgba(139, 0, 0, 0.2);
  position: relative;
  overflow: hidden;
}

/* Sith red pattern overlay */
[data-theme="temple-of-darkness"] .calendar-grid::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    repeating-linear-gradient(45deg, transparent, transparent 20px, rgba(139, 0, 0, 0.04) 20px, rgba(139, 0, 0, 0.04) 40px),
    radial-gradient(circle at 30% 30%, rgba(139, 0, 0, 0.06) 0%, transparent 50%);
  pointer-events: none;
}

[data-theme="temple-of-darkness"] .calendar-cell {
  background: var(--temple-bg);
  border: 1px solid var(--border-metal);
  border-radius: 2px;
  color: var(--calendar-text) !important;
  transition: all 0.25s ease;
  position: relative;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.4);
}

/* Calendar cell text - steel with Sith red glow (but not entry badges) */
[data-theme="temple-of-darkness"] .calendar-cell .cell-label,
[data-theme="temple-of-darkness"] .calendar-cell .cell-content:not(:has(.entry-badge)) {
  color: var(--calendar-text) !important;
  text-shadow: 
    0 0 2px rgba(176, 176, 176, 0.3),
    0 0 4px rgba(139, 0, 0, 0.4),
    0 1px 2px rgba(0, 0, 0, 0.8) !important;
}

[data-theme="temple-of-darkness"] .calendar-cell:hover {
  background: var(--highlight-sith);
  border-color: var(--sith-red);
  box-shadow: 0 2px 4px rgba(139, 0, 0, 0.4), 0 0 6px rgba(212, 0, 0, 0.2), inset 0 1px 2px rgba(0, 0, 0, 0.3);
}

[data-theme="temple-of-darkness"] .calendar-cell.today {
  background: var(--sith-gradient-dark);
  color: var(--text-primary);
  border: 2px solid var(--sith-red-bright);
  font-weight: 600;
  box-shadow: 0 2px 6px rgba(139, 0, 0, 0.5), 0 0 8px rgba(212, 0, 0, 0.3), inset 0 1px 2px rgba(0, 0, 0, 0.4);
}

[data-theme="temple-of-darkness"] .calendar-cell.selected {
  background: var(--sith-gradient);
  color: var(--text-primary);
  border-color: var(--sith-red-bright);
  box-shadow: 0 2px 8px rgba(139, 0, 0, 0.6), 0 0 10px rgba(212, 0, 0, 0.3), inset 0 2px 4px rgba(0, 0, 0, 0.5);
}

[data-theme="temple-of-darkness"] .calendar-cell.has-entry {
  background: var(--highlight-purple);
  border: 2px solid var(--sith-red);
  box-shadow: inset 0 1px 2px rgba(74, 42, 90, 0.2);
}

[data-theme="temple-of-darkness"] .weekday-header {
  background: var(--temple-bg-dark);
  border-bottom: 2px solid var(--sith-red);
  color: var(--calendar-text) !important;
  font-family: 'Arial', 'Helvetica', sans-serif;
  font-weight: 600;
  text-shadow: 
    0 0 2px rgba(176, 176, 176, 0.3),
    0 0 4px rgba(139, 0, 0, 0.5),
    0 1px 2px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 -1px 0 rgba(139, 0, 0, 0.4), 0 1px 3px rgba(139, 0, 0, 0.2);
}

/* Calendar text elements - Steel with Sith red glow */
[data-theme="temple-of-darkness"] .cell-label,
[data-theme="temple-of-darkness"] .cell-label.large,
[data-theme="temple-of-darkness"] .cell-label.month-title,
[data-theme="temple-of-darkness"] .calendar-cell.year-cell .cell-label {
  color: var(--calendar-text) !important;
  text-shadow: 
    0 0 2px rgba(176, 176, 176, 0.3),
    0 0 4px rgba(139, 0, 0, 0.4),
    0 1px 2px rgba(0, 0, 0, 0.8) !important;
}

[data-theme="temple-of-darkness"] .day-number {
  color: var(--calendar-text) !important;
  text-shadow: 
    0 0 2px rgba(176, 176, 176, 0.3),
    0 0 4px rgba(139, 0, 0, 0.4),
    0 1px 2px rgba(0, 0, 0, 0.8) !important;
}

[data-theme="temple-of-darkness"] .day-name {
  color: var(--calendar-text) !important;
  text-shadow: 
    0 0 2px rgba(176, 176, 176, 0.3),
    0 0 4px rgba(139, 0, 0, 0.4),
    0 1px 2px rgba(0, 0, 0, 0.8) !important;
}

[data-theme="temple-of-darkness"] .day-month {
  color: var(--calendar-text) !important;
  text-shadow: 
    0 0 2px rgba(176, 176, 176, 0.3),
    0 0 4px rgba(139, 0, 0, 0.4),
    0 1px 2px rgba(0, 0, 0, 0.8) !important;
}

[data-theme="temple-of-darkness"] .weekday-cell {
  color: var(--calendar-text) !important;
}

[data-theme="temple-of-darkness"] .weekday-cell .day-number,
[data-theme="temple-of-darkness"] .weekday-cell .day-name,
[data-theme="temple-of-darkness"] .weekday-cell .day-month {
  color: var(--calendar-text) !important;
  text-shadow: 
    0 0 2px rgba(176, 176, 176, 0.3),
    0 0 4px rgba(139, 0, 0, 0.4),
    0 1px 2px rgba(0, 0, 0, 0.8) !important;
}

/* ============================================
   TIMELINE VIEW
   ============================================ */
[data-theme="temple-of-darkness"] .timeline-grid {
  background: var(--temple-bg-secondary);
  border: 2px solid var(--sith-red);
  border-radius: 4px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.7), inset 0 1px 0 rgba(139, 0, 0, 0.3), 0 0 8px rgba(139, 0, 0, 0.2);
}

[data-theme="temple-of-darkness"] .timeline-cell {
  background: var(--temple-bg);
  border: 1px solid var(--border-metal);
  border-radius: 2px;
  color: var(--text-primary);
  transition: all 0.25s ease;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.3);
}

[data-theme="temple-of-darkness"] .timeline-cell:hover {
  background: var(--highlight-sith);
  border-color: var(--sith-red);
  box-shadow: 0 2px 4px rgba(139, 0, 0, 0.4), 0 0 6px rgba(212, 0, 0, 0.2);
}

[data-theme="temple-of-darkness"] .timeline-cell.today {
  background: var(--sith-gradient-dark);
  color: var(--text-primary);
  border: 2px solid var(--sith-red-bright);
  font-weight: 600;
  box-shadow: 0 2px 6px rgba(139, 0, 0, 0.5), 0 0 8px rgba(212, 0, 0, 0.3);
}

/* ============================================
   ENTRY CARDS AND LISTS - Dark stone textures
   ============================================ */
[data-theme="temple-of-darkness"] .week-entry-group {
  background: var(--temple-bg-secondary);
  border: 1px solid var(--sith-red);
  border-radius: 4px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(74, 42, 90, 0.1);
  position: relative;
  overflow: hidden;
}

/* Arcane pattern on entry groups */
[data-theme="temple-of-darkness"] .week-entry-group::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    repeating-linear-gradient(45deg, transparent, transparent 15px, rgba(74, 42, 90, 0.04) 15px, rgba(74, 42, 90, 0.04) 16px),
    repeating-linear-gradient(-45deg, transparent, transparent 15px, rgba(139, 90, 42, 0.03) 15px, rgba(139, 90, 42, 0.03) 16px);
  pointer-events: none;
}

[data-theme="temple-of-darkness"] .week-entry-item {
  background: var(--temple-bg);
  border: 1px solid var(--border-metal);
  border-left: 3px solid var(--sith-red);
  border-radius: 3px;
  transition: all 0.25s ease;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.4), 0 0 3px rgba(139, 0, 0, 0.1);
  color: var(--text-entry-bright);
}

/* Week entry titles - bright and legible */
[data-theme="temple-of-darkness"] .week-entry-title {
  color: var(--text-title-bright) !important;
  font-weight: 500;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.7);
}

[data-theme="temple-of-darkness"] .week-entry-item:hover {
  background: var(--highlight-sith);
  border-color: var(--sith-red);
  box-shadow: 0 2px 4px rgba(139, 0, 0, 0.4), 0 0 6px rgba(212, 0, 0, 0.2);
}

[data-theme="temple-of-darkness"] .journal-entry-item {
  background: var(--temple-bg-secondary);
  border: 1px solid var(--border-metal);
  border-left: 3px solid var(--sith-red);
  border-radius: 3px;
  transition: all 0.25s ease;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(139, 0, 0, 0.1), 0 0 3px rgba(139, 0, 0, 0.1);
  color: var(--text-entry-bright);
}

/* Entry item titles and previews - bright and legible */
[data-theme="temple-of-darkness"] .entry-item-title {
  color: var(--text-title-bright) !important;
  font-weight: 500;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.7);
}

[data-theme="temple-of-darkness"] .entry-item-preview {
  color: var(--text-entry-bright) !important;
  opacity: 0.9;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.6);
}

/* Month entry titles and previews - bright and legible */
[data-theme="temple-of-darkness"] .month-entry-title {
  color: var(--text-title-bright) !important;
  font-weight: 500;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.7);
}

[data-theme="temple-of-darkness"] .month-entry-preview {
  color: var(--text-entry-bright) !important;
  opacity: 0.9;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.6);
}

/* Period entry titles - bright and legible */
[data-theme="temple-of-darkness"] .period-entry-title {
  color: var(--text-title-bright) !important;
  font-weight: 600;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8), 0 0 8px rgba(0, 0, 0, 0.3);
}

/* Period entry content - bright and legible */
[data-theme="temple-of-darkness"] .period-entry-content {
  color: var(--text-entry-bright) !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.7);
  opacity: 1 !important;
}

/* Period entry date - bright and legible */
[data-theme="temple-of-darkness"] .period-entry-date {
  color: var(--text-entry-bright) !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.7);
  text-decoration-color: var(--sith-red) !important;
}

/* Period entry meta - bright */
[data-theme="temple-of-darkness"] .period-entry-meta {
  color: var(--text-entry-bright) !important;
}

/* Period entry edit button - dark and subtle */
[data-theme="temple-of-darkness"] .period-entry-edit-button {
  background: var(--temple-bg-dark) !important;
  color: var(--text-muted) !important;
  border: 1px solid var(--border-stone) !important;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.5);
  opacity: 0.8;
}

[data-theme="temple-of-darkness"] .period-entry-edit-button:hover {
  background: var(--temple-bg-secondary) !important;
  color: var(--text-secondary) !important;
  border-color: var(--border-metal-light) !important;
  opacity: 0.9;
}

/* Period entry tags - dark and subtle */
[data-theme="temple-of-darkness"] .period-entry-tag {
  background: var(--temple-bg-dark) !important;
  color: var(--text-muted) !important;
  border: 1px solid var(--border-stone) !important;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.5);
  opacity: 0.7;
}

/* Period entry badge - subtle */
[data-theme="temple-of-darkness"] .period-entry-badge {
  background: var(--temple-bg-dark) !important;
  color: var(--text-muted) !important;
  border: 1px solid var(--border-stone) !important;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.5);
  opacity: 0.8;
}

/* Linked entry titles - bright and legible */
[data-theme="temple-of-darkness"] .linked-entry-title {
  color: var(--text-title-bright) !important;
  font-weight: 500;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.7);
}

/* Entry meta and date display - bright */
[data-theme="temple-of-darkness"] .entry-meta,
[data-theme="temple-of-darkness"] .entry-meta small,
[data-theme="temple-of-darkness"] .entry-date-display {
  color: var(--text-entry-bright) !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.7);
}

/* Time range badge in viewer - subtle */
[data-theme="temple-of-darkness"] .time-range-badge-viewer {
  background: var(--temple-bg-dark) !important;
  color: var(--text-muted) !important;
  border: 1px solid var(--border-stone) !important;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.5);
  opacity: 0.8;
}

[data-theme="temple-of-darkness"] .journal-entry-item:hover {
  background: var(--highlight-sith);
  border-color: var(--sith-red);
  box-shadow: 0 2px 6px rgba(139, 0, 0, 0.4), 0 0 8px rgba(212, 0, 0, 0.2), inset 0 1px 0 rgba(139, 0, 0, 0.2);
}

[data-theme="temple-of-darkness"] .journal-entry-item.selected {
  background: var(--sith-gradient);
  color: var(--text-primary);
  border-color: var(--sith-red-bright);
  box-shadow: 0 2px 8px rgba(139, 0, 0, 0.6), 0 0 10px rgba(212, 0, 0, 0.3), inset 0 2px 4px rgba(0, 0, 0, 0.5);
}

/* ============================================
   EDITOR AND VIEWER - Dark stone with mystical effects
   ============================================ */
[data-theme="temple-of-darkness"] .journal-editor,
[data-theme="temple-of-darkness"] .journal-editor-inline,
[data-theme="temple-of-darkness"] .entry-viewer {
  background: var(--temple-bg);
}

[data-theme="temple-of-darkness"] .editor-content {
  background: var(--temple-bg);
  color: var(--text-primary);
}

[data-theme="temple-of-darkness"] .editor-loading {
  background: var(--temple-bg);
  color: var(--text-primary);
}

[data-theme="temple-of-darkness"] .view-mode-message {
  background: var(--temple-bg);
  color: var(--text-muted);
}

[data-theme="temple-of-darkness"] .editor-footer {
  background: var(--temple-bg-secondary) !important;
  border-top: 1px solid var(--border-stone);
}

[data-theme="temple-of-darkness"] .footer-actions {
  background: transparent;
}

[data-theme="temple-of-darkness"] .tags-section {
  background: transparent;
}

[data-theme="temple-of-darkness"] .tags-input-container {
  background: transparent;
}

[data-theme="temple-of-darkness"] .tags-list {
  background: transparent;
}

[data-theme="temple-of-darkness"] .editor-header,
[data-theme="temple-of-darkness"] .viewer-header {
  background: var(--temple-bg-secondary);
  border-bottom: 3px solid var(--sith-red);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.6), inset 0 -1px 0 rgba(139, 0, 0, 0.4), 0 0 6px rgba(139, 0, 0, 0.2);
}

[data-theme="temple-of-darkness"] .viewer-header h3,
[data-theme="temple-of-darkness"] .editor-header h3 {
  font-family: 'Arial', 'Helvetica', sans-serif;
  font-size: 16px;
  color: var(--text-title-bright) !important;
  font-weight: 600;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8), 0 0 4px rgba(139, 0, 0, 0.4);
}

[data-theme="temple-of-darkness"] .time-inputs-section {
  background: var(--temple-bg);
  border: 1px solid var(--border-metal);
  border-radius: 3px;
  padding: 0.75rem;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
}

[data-theme="temple-of-darkness"] .time-label {
  font-size: 0.85rem;
  font-weight: 500;
  color: var(--text-primary);
  margin-bottom: 0.25rem;
  font-family: 'Georgia', 'Times New Roman', serif;
}

[data-theme="temple-of-darkness"] .time-inputs {
  background: transparent;
}

[data-theme="temple-of-darkness"] .time-input-group {
  background: transparent;
}

[data-theme="temple-of-darkness"] .time-input-group label {
  font-size: 0.75rem;
  color: var(--text-primary);
  font-weight: 400;
  font-family: 'Georgia', 'Times New Roman', serif;
}

[data-theme="temple-of-darkness"] .time-input {
  background: var(--temple-bg-secondary);
  border: 1px solid var(--border-metal);
  border-radius: 3px;
  color: var(--text-primary) !important;
  font-family: 'Georgia', 'Times New Roman', serif;
  font-size: 14px;
  padding: 8px;
  text-align: center;
  transition: all 0.25s ease;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
}

[data-theme="temple-of-darkness"] .time-input:focus {
  border-color: var(--accent-stone);
  outline: 2px solid rgba(139, 125, 107, 0.4);
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3), 0 0 0 3px rgba(139, 125, 107, 0.1);
}

[data-theme="temple-of-darkness"] .time-input-group select.time-input {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23d4c4a8' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
}

[data-theme="temple-of-darkness"] .clear-time-button {
  background: var(--temple-bg-secondary);
  border: 1px solid var(--border-metal);
  border-radius: 3px;
  color: var(--text-primary) !important;
  font-family: 'Georgia', 'Times New Roman', serif;
  font-size: 14px;
  padding: 8px;
  transition: all 0.25s ease;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
}

[data-theme="temple-of-darkness"] .clear-time-button:hover {
  border-color: var(--accent-stone);
  background: var(--temple-bg);
}

/* Modal time inputs section - matching time-inputs-section styles */
[data-theme="temple-of-darkness"] .modal-time-inputs-section {
  background: var(--temple-bg);
  border: 1px solid var(--border-metal);
  border-radius: 3px;
  padding: 0.75rem;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
}

[data-theme="temple-of-darkness"] .modal-time-label {
  font-size: 0.85rem;
  font-weight: 500;
  color: var(--text-primary);
  margin-bottom: 0.25rem;
  font-family: 'Georgia', 'Times New Roman', serif;
}

[data-theme="temple-of-darkness"] .modal-time-inputs {
  background: transparent;
}

[data-theme="temple-of-darkness"] .modal-time-input-group {
  background: transparent;
}

[data-theme="temple-of-darkness"] .modal-time-input-group label {
  font-size: 0.75rem;
  color: var(--text-primary);
  font-weight: 400;
  font-family: 'Georgia', 'Times New Roman', serif;
}

[data-theme="temple-of-darkness"] .modal-time-input {
  background: var(--temple-bg-secondary);
  border: 1px solid var(--border-metal);
  border-radius: 3px;
  color: var(--text-primary) !important;
  font-family: 'Georgia', 'Times New Roman', serif;
  font-size: 14px;
  padding: 8px;
  text-align: center;
  transition: all 0.25s ease;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
}

[data-theme="temple-of-darkness"] .modal-time-input:focus {
  border-color: var(--accent-stone);
  outline: 2px solid rgba(139, 125, 107, 0.4);
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3), 0 0 0 3px rgba(139, 125, 107, 0.1);
}

[data-theme="temple-of-darkness"] .modal-time-input-group select.modal-time-input {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23d4c4a8' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
}

[data-theme="temple-of-darkness"] .modal-clear-time-button {
  background: var(--temple-bg-secondary);
  border: 1px solid var(--border-metal);
  border-radius: 3px;
  color: var(--text-primary) !important;
  font-family: 'Georgia', 'Times New Roman', serif;
  font-size: 14px;
  padding: 8px;
  transition: all 0.25s ease;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
}

[data-theme="temple-of-darkness"] .modal-clear-time-button:hover {
  border-color: var(--accent-stone);
  background: var(--temple-bg);
}

[data-theme="temple-of-darkness"] .modal-now-time-button {
  background: var(--temple-bg-secondary);
  border: 1px solid var(--border-metal);
  border-radius: 3px;
  color: var(--text-primary) !important;
  font-family: 'Georgia', 'Times New Roman', serif;
  font-size: 14px;
  padding: 8px;
  transition: all 0.25s ease;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
}

[data-theme="temple-of-darkness"] .modal-now-time-button:hover {
  border-color: var(--accent-stone);
  background: var(--temple-bg);
}

[data-theme="temple-of-darkness"] .title-input,
[data-theme="temple-of-darkness"] .content-input,
[data-theme="temple-of-darkness"] .tag-input {
  background: var(--temple-bg-secondary);
  border: 1px solid var(--border-metal);
  border-radius: 3px;
  color: var(--text-primary) !important;
  font-family: 'Georgia', 'Times New Roman', serif;
  font-size: 14px;
  padding: 8px;
  transition: all 0.25s ease;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
  text-shadow: var(--text-glow) !important;
}

[data-theme="temple-of-darkness"] .title-input:focus,
[data-theme="temple-of-darkness"] .content-input:focus,
[data-theme="temple-of-darkness"] .tag-input:focus {
  border-color: var(--sith-red);
  outline: 2px solid var(--sith-red);
  outline-offset: 2px;
  box-shadow: 0 0 0 3px rgba(139, 0, 0, 0.3), 0 0 6px rgba(212, 0, 0, 0.2), inset 0 2px 4px rgba(0, 0, 0, 0.4);
}

[data-theme="temple-of-darkness"] .viewer-content {
  background: var(--temple-bg-secondary);
  color: var(--text-primary);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(139, 90, 42, 0.05);
  border-radius: 2px;
}

[data-theme="temple-of-darkness"] .viewer-title {
  font-family: 'Arial', 'Helvetica', sans-serif;
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary) !important;
  border-bottom: 2px solid var(--sith-red);
  padding-bottom: 8px;
  margin-bottom: 12px;
  text-shadow: var(--text-glow) !important;
  box-shadow: 0 1px 3px rgba(139, 0, 0, 0.2);
}

[data-theme="temple-of-darkness"] .viewer-text {
  font-family: 'Arial', 'Helvetica', sans-serif;
  font-size: 14px;
  color: var(--text-primary) !important;
  line-height: 1.6;
  text-shadow: var(--text-glow) !important;
}

/* ============================================
   BUTTONS - Dark and subtle (ALL BUTTONS)
   ============================================ */
/* Base button styles - ALL buttons must be dark */
[data-theme="temple-of-darkness"] button,
[data-theme="temple-of-darkness"] .edit-button,
[data-theme="temple-of-darkness"] .save-button,
[data-theme="temple-of-darkness"] .cancel-button,
[data-theme="temple-of-darkness"] .delete-button,
[data-theme="temple-of-darkness"] .new-entry-button,
[data-theme="temple-of-darkness"] .nav-button,
[data-theme="temple-of-darkness"] .view-mode-button,
[data-theme="temple-of-darkness"] .today-button,
[data-theme="temple-of-darkness"] .add-tag-button,
[data-theme="temple-of-darkness"] .modal-save-button,
[data-theme="temple-of-darkness"] .modal-cancel-button,
[data-theme="temple-of-darkness"] .modal-delete-button,
[data-theme="temple-of-darkness"] .modal-duplicate-button,
[data-theme="temple-of-darkness"] .modal-close-button,
[data-theme="temple-of-darkness"] .bulk-edit-toggle-button,
[data-theme="temple-of-darkness"] .bulk-delete-button,
[data-theme="temple-of-darkness"] .search-close-button,
[data-theme="temple-of-darkness"] .search-filters-toggle,
[data-theme="temple-of-darkness"] .clear-filters-button,
[data-theme="temple-of-darkness"] .period-entry-clear-filters,
[data-theme="temple-of-darkness"] .calendar-definition-toggle,
[data-theme="temple-of-darkness"] .preferences-button,
[data-theme="temple-of-darkness"] .reset-button,
[data-theme="temple-of-darkness"] .tag-remove {
  background: var(--temple-bg-dark) !important;
  border: 2px solid var(--border-metal) !important;
  border-radius: 4px;
  color: var(--text-muted) !important;
  font-family: 'Georgia', 'Times New Roman', serif;
  font-size: 13px;
  padding: 8px 16px;
  transition: all 0.25s ease;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.5);
  opacity: 0.8;
}

/* Small buttons (tag-remove, etc) */
[data-theme="temple-of-darkness"] .tag-remove {
  padding: 0;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  font-size: 1rem;
}

[data-theme="temple-of-darkness"] .save-button {
  background: var(--temple-bg-dark) !important;
  color: var(--text-muted) !important;
  border-color: var(--border-metal) !important;
  font-weight: 600;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.6);
  opacity: 0.85;
}

[data-theme="temple-of-darkness"] .save-button:hover:not(:disabled) {
  background: var(--temple-bg-secondary) !important;
  color: var(--text-secondary) !important;
  border-color: var(--border-metal-light) !important;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.4);
  opacity: 0.9;
}

[data-theme="temple-of-darkness"] .delete-button:hover {
  background: var(--temple-bg-dark) !important;
  border-color: var(--border-metal) !important;
  color: var(--text-muted) !important;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.6);
  opacity: 0.9;
}

/* All button hover states - dark and subtle */
[data-theme="temple-of-darkness"] button:hover,
[data-theme="temple-of-darkness"] .edit-button:hover,
[data-theme="temple-of-darkness"] .new-entry-button:hover,
[data-theme="temple-of-darkness"] .nav-button:hover,
[data-theme="temple-of-darkness"] .view-mode-button:hover,
[data-theme="temple-of-darkness"] .today-button:hover,
[data-theme="temple-of-darkness"] .duplicate-button:hover,
[data-theme="temple-of-darkness"] .add-tag-button:hover,
[data-theme="temple-of-darkness"] .modal-save-button:hover,
[data-theme="temple-of-darkness"] .modal-cancel-button:hover,
[data-theme="temple-of-darkness"] .modal-delete-button:hover,
[data-theme="temple-of-darkness"] .modal-duplicate-button:hover,
[data-theme="temple-of-darkness"] .modal-close-button:hover,
[data-theme="temple-of-darkness"] .bulk-edit-toggle-button:hover,
[data-theme="temple-of-darkness"] .bulk-delete-button:hover,
[data-theme="temple-of-darkness"] .search-close-button:hover,
[data-theme="temple-of-darkness"] .search-filters-toggle:hover,
[data-theme="temple-of-darkness"] .clear-filters-button:hover,
[data-theme="temple-of-darkness"] .period-entry-clear-filters:hover,
[data-theme="temple-of-darkness"] .calendar-definition-toggle:hover,
[data-theme="temple-of-darkness"] .preferences-button:hover,
[data-theme="temple-of-darkness"] .reset-button:hover,
[data-theme="temple-of-darkness"] .tag-remove:hover {
  background: var(--temple-bg-secondary) !important;
  border-color: var(--border-metal-light) !important;
  color: var(--text-secondary) !important;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.4);
  opacity: 0.9;
}

/* Active button states - still dark */
[data-theme="temple-of-darkness"] .bulk-edit-toggle-button.active,
[data-theme="temple-of-darkness"] .view-mode-button.active {
  background: var(--temple-bg-secondary) !important;
  color: var(--text-secondary) !important;
  border-color: var(--border-metal-light) !important;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.4);
  opacity: 0.9;
}

[data-theme="temple-of-darkness"] .bulk-edit-toggle-button.active:hover {
  background: var(--temple-bg-hover) !important;
  opacity: 0.95;
}

/* Duplicate button - dark and subtle */
[data-theme="temple-of-darkness"] .duplicate-button {
  background: var(--temple-bg-dark) !important;
  border: 2px solid var(--border-metal) !important;
  border-radius: 4px;
  color: var(--text-muted) !important;
  font-family: 'Georgia', 'Times New Roman', serif;
  font-size: 13px;
  padding: 8px 16px;
  transition: all 0.25s ease;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.5);
  opacity: 0.8;
}

/* New entry button header - dark and subtle */
[data-theme="temple-of-darkness"] .new-entry-button-header {
  background: var(--temple-bg-dark) !important;
  border: 2px solid var(--border-metal) !important;
  border-radius: 4px;
  color: var(--text-muted) !important;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.5);
  opacity: 0.8;
}

[data-theme="temple-of-darkness"] .new-entry-button-header:hover {
  background: var(--temple-bg-secondary) !important;
  border-color: var(--border-metal-light) !important;
  color: var(--text-secondary) !important;
  opacity: 0.9;
}

/* Catch-all: Ensure NO buttons are bright - override any inline styles or missed classes */
[data-theme="temple-of-darkness"] button:not([class*="entry-badge"]):not([class*="badge"]),
[data-theme="temple-of-darkness"] [role="button"]:not([class*="entry-badge"]):not([class*="badge"]),
[data-theme="temple-of-darkness"] [class*="button"]:not([class*="entry-badge"]):not([class*="badge"]) {
  background: var(--temple-bg-dark) !important;
  color: var(--text-muted) !important;
  border-color: var(--border-metal) !important;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.5) !important;
  opacity: 0.8;
}

[data-theme="temple-of-darkness"] button:hover:not([class*="entry-badge"]):not([class*="badge"]),
[data-theme="temple-of-darkness"] [role="button"]:hover:not([class*="entry-badge"]):not([class*="badge"]),
[data-theme="temple-of-darkness"] [class*="button"]:hover:not([class*="entry-badge"]):not([class*="badge"]) {
  background: var(--temple-bg-secondary) !important;
  color: var(--text-secondary) !important;
  border-color: var(--border-metal-light) !important;
  opacity: 0.9;
}

/* ============================================
   MODALS - Dark stone with metal trim
   ============================================ */
[data-theme="temple-of-darkness"] .entry-edit-modal-overlay {
  background-color: rgba(10, 8, 5, 0.85);
}

[data-theme="temple-of-darkness"] .entry-edit-modal {
  background: var(--temple-bg-secondary);
  border: 3px solid var(--sith-red);
  border-radius: 4px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.8), inset 0 1px 0 rgba(139, 90, 42, 0.1);
}

[data-theme="temple-of-darkness"] .modal-header {
  background: var(--temple-bg-dark);
  border-bottom: 2px solid var(--sith-red);
  box-shadow: inset 0 -1px 0 rgba(139, 90, 42, 0.2);
}

[data-theme="temple-of-darkness"] .modal-content {
  background: var(--temple-bg-secondary);
}

[data-theme="temple-of-darkness"] .modal-footer {
  background: var(--temple-bg-secondary);
  border-top: 2px solid var(--sith-red);
  box-shadow: inset 0 1px 0 rgba(139, 90, 42, 0.2);
}

/* ============================================
   TAGS - Dark and subtle (ALL TAG VARIATIONS)
   ============================================ */
/* Base tag styles - ALL tags must be dark */
[data-theme="temple-of-darkness"] .tag,
[data-theme="temple-of-darkness"] .viewer-tag,
[data-theme="temple-of-darkness"] .modal-tag,
[data-theme="temple-of-darkness"] .entry-tag,
[data-theme="temple-of-darkness"] .month-entry-tag,
[data-theme="temple-of-darkness"] .period-entry-tag,
[data-theme="temple-of-darkness"] .period-entry-filter-tag,
[data-theme="temple-of-darkness"] .journal-entry-filter-tag,
[data-theme="temple-of-darkness"] .filter-tag,
[data-theme="temple-of-darkness"] .result-tag,
[data-theme="temple-of-darkness"] .badge-tag-count {
  background: var(--temple-bg-dark) !important;
  color: var(--text-muted) !important;
  border: 1px solid var(--border-stone) !important;
  border-radius: 3px;
  font-family: 'Georgia', 'Times New Roman', serif;
  font-size: 12px;
  padding: 4px 8px;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.5);
  opacity: 0.7;
}

/* Tag hover states - still dark */
[data-theme="temple-of-darkness"] .tag:hover,
[data-theme="temple-of-darkness"] .viewer-tag:hover,
[data-theme="temple-of-darkness"] .modal-tag:hover,
[data-theme="temple-of-darkness"] .entry-tag:hover,
[data-theme="temple-of-darkness"] .month-entry-tag:hover,
[data-theme="temple-of-darkness"] .period-entry-tag:hover,
[data-theme="temple-of-darkness"] .period-entry-filter-tag:hover,
[data-theme="temple-of-darkness"] .journal-entry-filter-tag:hover,
[data-theme="temple-of-darkness"] .filter-tag:hover,
[data-theme="temple-of-darkness"] .result-tag:hover {
  background: var(--temple-bg-secondary) !important;
  color: var(--text-secondary) !important;
  border-color: var(--border-metal-light) !important;
  opacity: 0.85;
}

/* Active tag states - still dark */
[data-theme="temple-of-darkness"] .period-entry-filter-tag.active,
[data-theme="temple-of-darkness"] .journal-entry-filter-tag.active,
[data-theme="temple-of-darkness"] .filter-tag.active {
  background: var(--temple-bg-secondary) !important;
  color: var(--text-secondary) !important;
  border-color: var(--border-metal-light) !important;
  opacity: 0.85;
}

/* Catch-all: Ensure NO tags are bright */
[data-theme="temple-of-darkness"] [class*="tag"]:not([class*="entry-badge"]):not([class*="badge-title"]) {
  background: var(--temple-bg-dark) !important;
  color: var(--text-muted) !important;
  border-color: var(--border-metal) !important;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.5) !important;
  opacity: 0.7;
}

/* ============================================
   SEARCH VIEW
   ============================================ */
[data-theme="temple-of-darkness"] .search-view {
  background: var(--temple-bg);
  color: var(--text-primary) !important;
  text-shadow: var(--text-glow) !important;
}

[data-theme="temple-of-darkness"] .search-header {
  background: var(--temple-bg-dark);
  border-bottom: 2px solid var(--sith-red);
  box-shadow: inset 0 -1px 0 rgba(139, 0, 0, 0.4), 0 1px 3px rgba(139, 0, 0, 0.2);
}

[data-theme="temple-of-darkness"] .search-input {
  background: var(--temple-bg-secondary);
  border: 1px solid var(--border-metal);
  border-radius: 3px;
  color: var(--text-primary) !important;
  font-family: 'Georgia', 'Times New Roman', serif;
  font-size: 14px;
  padding: 8px 12px;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
  text-shadow: var(--text-glow) !important;
}

[data-theme="temple-of-darkness"] .search-input:focus {
  border-color: var(--sith-red);
  outline: 2px solid var(--sith-red);
  outline-offset: 2px;
  box-shadow: 0 0 0 3px rgba(139, 0, 0, 0.3), 0 0 6px rgba(212, 0, 0, 0.2), inset 0 2px 4px rgba(0, 0, 0, 0.4);
}

[data-theme="temple-of-darkness"] .search-result-item {
  background: var(--temple-bg-secondary);
  border: 1px solid var(--border-metal);
  border-left: 3px solid var(--sith-red);
  border-radius: 3px;
  transition: all 0.25s ease;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.4), 0 0 3px rgba(139, 0, 0, 0.1);
}

[data-theme="temple-of-darkness"] .search-result-item:hover {
  background: var(--highlight-sith);
  border-color: var(--sith-red);
  box-shadow: 0 2px 4px rgba(139, 0, 0, 0.4), 0 0 6px rgba(212, 0, 0, 0.2);
}

/* ============================================
   PREFERENCES
   ============================================ */
[data-theme="temple-of-darkness"] .preferences-container {
  background: var(--temple-bg);
  color: var(--text-primary) !important;
  text-shadow: var(--text-glow) !important;
}

[data-theme="temple-of-darkness"] .preferences-header {
  background: var(--temple-bg-dark);
  border-bottom: 2px solid var(--sith-red);
  box-shadow: inset 0 -1px 0 rgba(139, 0, 0, 0.4), 0 1px 3px rgba(139, 0, 0, 0.2);
}

[data-theme="temple-of-darkness"] .preferences-section {
  background: var(--temple-bg-secondary);
  border: 2px solid var(--sith-red);
  border-radius: 4px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.6), inset 0 1px 0 rgba(139, 0, 0, 0.2), 0 0 6px rgba(139, 0, 0, 0.15);
}

[data-theme="temple-of-darkness"] .preference-item input,
[data-theme="temple-of-darkness"] .preference-item select {
  background: var(--temple-bg);
  border: 1px solid var(--border-metal);
  border-radius: 3px;
  color: var(--text-primary) !important;
  font-family: 'Georgia', 'Times New Roman', serif;
  font-size: 14px;
  padding: 6px 10px;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
  text-shadow: var(--text-glow) !important;
}

[data-theme="temple-of-darkness"] .preference-item select option {
  background: var(--temple-bg);
  color: var(--text-primary);
}

[data-theme="temple-of-darkness"] .preference-item input:focus,
[data-theme="temple-of-darkness"] .preference-item select:focus {
  border-color: var(--sith-red);
  outline: 2px solid var(--sith-red);
  outline-offset: 2px;
  box-shadow: 0 0 0 3px rgba(139, 0, 0, 0.3), 0 0 6px rgba(212, 0, 0, 0.2), inset 0 2px 4px rgba(0, 0, 0, 0.4);
}

/* ============================================
   JOURNAL LIST
   ============================================ */
[data-theme="temple-of-darkness"] .journal-list {
  background: var(--temple-bg);
  border-right: 3px solid var(--sith-red);
  box-shadow: inset -1px 0 0 rgba(139, 0, 0, 0.2), 0 0 6px rgba(139, 0, 0, 0.1);
  color: var(--text-primary) !important;
  text-shadow: var(--text-glow) !important;
}

[data-theme="temple-of-darkness"] .journal-list-header {
  background: var(--temple-bg-dark);
  border-bottom: 2px solid var(--sith-red);
  box-shadow: inset 0 -1px 0 rgba(139, 0, 0, 0.4), 0 1px 3px rgba(139, 0, 0, 0.2);
}

/* ============================================
   LOADING SCREEN - Mystical torchlight effect
   ============================================ */
[data-theme="temple-of-darkness"] .loading-screen {
  background: var(--temple-bg);
  color: var(--text-primary);
}

[data-theme="temple-of-darkness"] .loading-progress-bar {
  background: var(--border-metal);
  border-radius: 4px;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.4);
}

[data-theme="temple-of-darkness"] .loading-progress-fill {
  background: var(--sith-gradient-horizontal);
  box-shadow: 0 0 10px rgba(139, 0, 0, 0.7), 0 0 15px rgba(212, 0, 0, 0.4), inset 0 1px 0 rgba(212, 0, 0, 0.3);
}

/* ============================================
   TIME RANGE BADGES - Mystical colors
   ============================================ */
[data-theme="temple-of-darkness"] .entry-decade {
  background: var(--sith-gradient-dark);
  color: var(--text-entry-bright);
  border: 1px solid var(--sith-red);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.4), 0 0 4px rgba(139, 0, 0, 0.3);
}

[data-theme="temple-of-darkness"] .entry-year {
  background: var(--sith-gradient);
  color: var(--text-entry-bright);
  border: 1px solid var(--sith-red-medium);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.4), 0 0 4px rgba(139, 0, 0, 0.3);
}

[data-theme="temple-of-darkness"] .entry-month {
  background: var(--sith-gradient-bright);
  color: var(--text-entry-bright);
  border: 1px solid var(--sith-red-bright);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.4), 0 0 4px rgba(212, 0, 0, 0.3);
}

[data-theme="temple-of-darkness"] .entry-week {
  background: var(--sith-gradient-dark);
  color: var(--text-entry-bright);
  border: 1px solid var(--sith-red);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.4), 0 0 4px rgba(139, 0, 0, 0.3);
}

[data-theme="temple-of-darkness"] .entry-day {
  background: var(--sith-gradient);
  color: var(--text-entry-bright);
  border: 1px solid var(--sith-red-medium);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.4), 0 0 4px rgba(139, 0, 0, 0.3);
}

/* ============================================
   DAY VIEW CALENDAR ENTRIES - Bright and legible
   ============================================ */
/* All entry badges in timeline cells - force bright text */
[data-theme="temple-of-darkness"] .entry-badge {
  color: var(--text-title-bright) !important;
  text-shadow: 
    0 1px 2px rgba(0, 0, 0, 0.9),
    0 0 4px rgba(0, 0, 0, 0.8),
    0 0 8px rgba(0, 0, 0, 0.6),
    0 0 12px rgba(0, 0, 0, 0.4) !important;
  border-left-width: 3px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* Override all entry badge type colors to be bright */
[data-theme="temple-of-darkness"] .entry-badge.entry-day,
[data-theme="temple-of-darkness"] .entry-badge.entry-week,
[data-theme="temple-of-darkness"] .entry-badge.entry-month,
[data-theme="temple-of-darkness"] .entry-badge.entry-year,
[data-theme="temple-of-darkness"] .entry-badge.entry-decade {
  color: var(--text-title-bright) !important;
  text-shadow: 
    0 1px 2px rgba(0, 0, 0, 0.9),
    0 0 4px rgba(0, 0, 0, 0.8),
    0 0 8px rgba(0, 0, 0, 0.6),
    0 0 12px rgba(0, 0, 0, 0.4) !important;
}

/* Badge title text - bright white with strong shadows */
[data-theme="temple-of-darkness"] .entry-badge .badge-title {
  color: var(--text-title-bright) !important;
  font-weight: 600;
  text-shadow: 
    0 1px 2px rgba(0, 0, 0, 0.9),
    0 0 4px rgba(0, 0, 0, 0.8),
    0 0 8px rgba(0, 0, 0, 0.6),
    0 0 12px rgba(0, 0, 0, 0.4) !important;
}

/* Badge tag count - dark and subtle */
[data-theme="temple-of-darkness"] .entry-badge .badge-tag-count {
  background: var(--temple-bg-dark) !important;
  color: var(--text-muted) !important;
  border: 1px solid var(--border-stone) !important;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.5);
  opacity: 0.7;
  border-radius: 10px;
  padding: 0.1rem 0.3rem;
  font-size: 0.65rem;
}

/* More entries indicator - dark and subtle */
[data-theme="temple-of-darkness"] .entry-badge.more-entries {
  background: var(--temple-bg-dark) !important;
  color: var(--text-muted) !important;
  border: 1px solid var(--border-stone) !important;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.5);
  opacity: 0.7;
}

/* Cell date - steel with Sith red glow */
[data-theme="temple-of-darkness"] .cell-date {
  color: var(--calendar-text) !important;
  text-shadow: 
    0 0 2px rgba(176, 176, 176, 0.3),
    0 0 4px rgba(139, 0, 0, 0.4),
    0 1px 2px rgba(0, 0, 0, 0.8) !important;
  border-bottom-color: var(--border-metal) !important;
}

/* Calendar month details and labels - steel with Sith red glow */
[data-theme="temple-of-darkness"] .month-details,
[data-theme="temple-of-darkness"] .month-days,
[data-theme="temple-of-darkness"] .month-entry-count,
[data-theme="temple-of-darkness"] .week-label,
[data-theme="temple-of-darkness"] .week-entry-count {
  color: var(--calendar-text) !important;
  text-shadow: 
    0 0 2px rgba(176, 176, 176, 0.3),
    0 0 4px rgba(139, 0, 0, 0.4),
    0 1px 2px rgba(0, 0, 0, 0.8) !important;
}

/* Calendar loading text - steel with Sith red glow */
[data-theme="temple-of-darkness"] .calendar-loading {
  color: var(--calendar-text) !important;
  text-shadow: 
    0 0 2px rgba(176, 176, 176, 0.3),
    0 0 4px rgba(139, 0, 0, 0.4) !important;
}

/* ============================================
   MINIMAP
   ============================================ */
[data-theme="temple-of-darkness"] .minimap-container {
  background: var(--temple-bg-secondary);
  border: 1px solid var(--sith-red);
  border-radius: 4px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(139, 90, 42, 0.1);
}

[data-theme="temple-of-darkness"] .minimap-timeline {
  background: var(--temple-bg);
}

[data-theme="temple-of-darkness"] .entry-indicator-minimap {
  background: var(--sith-red);
  border: 1px solid var(--sith-red);
  box-shadow: 0 0 4px rgba(139, 90, 42, 0.4);
}

[data-theme="temple-of-darkness"] .current-period-indicator {
  background: var(--highlight-sith);
  border: 1px solid var(--sith-red);
  box-shadow: 0 0 6px rgba(139, 90, 42, 0.5);
}

/* ============================================
   ADDITIONAL COMPONENTS
   ============================================ */

/* Calendar Info Panel */
[data-theme="temple-of-darkness"] .calendar-info-panel {
  background: var(--temple-bg-secondary);
  border: 2px solid var(--sith-red);
  border-radius: 4px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);
  color: var(--text-primary);
}

[data-theme="temple-of-darkness"] .calendar-definition-toggle {
  background: var(--temple-bg);
  border: 1px solid var(--sith-red);
  color: var(--text-primary);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.3);
}

[data-theme="temple-of-darkness"] .calendar-definition-toggle:hover {
  background: var(--highlight-sith);
  border-color: var(--sith-red);
}

[data-theme="temple-of-darkness"] .calendar-definition-drawer {
  background: var(--temple-bg-dark);
  border-top: 2px solid var(--sith-red);
  color: var(--text-primary);
}

/* Calendar Selector */
[data-theme="temple-of-darkness"] .calendar-select {
  background: var(--temple-bg-secondary);
  border: 1px solid var(--border-metal);
  color: var(--text-primary);
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
}

[data-theme="temple-of-darkness"] .calendar-select option {
  background: var(--temple-bg-secondary);
  color: var(--text-primary);
}

[data-theme="temple-of-darkness"] .calendar-select:focus {
  border-color: var(--sith-red);
  outline: 2px solid var(--sith-red);
  outline-offset: 2px;
}

/* Period Entries */
[data-theme="temple-of-darkness"] .period-entries-controls {
  background: var(--temple-bg-secondary);
  border-bottom: 2px solid var(--sith-red);
}

[data-theme="temple-of-darkness"] .period-entry-item {
  background: var(--temple-bg);
  border: 1px solid var(--border-metal);
  border-left: 3px solid var(--sith-red);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.3);
  color: var(--text-entry-bright);
}

[data-theme="temple-of-darkness"] .period-entry-item:hover {
  background: var(--highlight-sith);
  border-color: var(--sith-red);
}

/* Period entry filter tags are styled in the TAGS section above */

/* Linked Entries */
[data-theme="temple-of-darkness"] .linked-entry-item {
  background: var(--temple-bg-secondary);
  border: 1px solid var(--border-metal);
  border-left: 3px solid var(--sith-red);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.3);
  color: var(--text-entry-bright);
}

[data-theme="temple-of-darkness"] .linked-entry-item:hover {
  background: var(--highlight-sith);
  border-color: var(--sith-red);
}

/* Bulk Edit */
[data-theme="temple-of-darkness"] .bulk-edit-actions {
  background: var(--temple-bg-dark);
  border-top: 2px solid var(--sith-red);
  box-shadow: inset 0 1px 0 rgba(139, 90, 42, 0.2);
}

[data-theme="temple-of-darkness"] .journal-entry-item.bulk-selected {
  background: var(--highlight-purple);
  border-color: var(--sith-red);
}

/* Loading States */
[data-theme="temple-of-darkness"] .calendar-loading,
[data-theme="temple-of-darkness"] .timeline-loading,
[data-theme="temple-of-darkness"] .journal-list-loading {
  color: var(--text-muted) !important;
  text-shadow: var(--text-glow) !important;
}

/* Empty States */
[data-theme="temple-of-darkness"] .viewer-empty,
[data-theme="temple-of-darkness"] .journal-list-empty,
[data-theme="temple-of-darkness"] .search-empty {
  color: var(--text-muted) !important;
  text-shadow: var(--text-glow) !important;
}

/* ============================================
   GLOBAL TEXT - Maroon Warmth with Glow
   Apply to ALL text except entry titles/text
   ============================================ */
/* Base text color and glow for all elements */
[data-theme="temple-of-darkness"] {
  color: var(--text-primary);
}

/* All text elements get maroon warmth with glow by default */
[data-theme="temple-of-darkness"] p,
[data-theme="temple-of-darkness"] span:not(.badge-title):not(.entry-item-title):not(.period-entry-title):not(.month-entry-title):not(.week-entry-title):not(.linked-entry-title):not(.entry-item-preview):not(.month-entry-preview):not(.period-entry-content),
[data-theme="temple-of-darkness"] div:not([class*="entry-title"]):not([class*="badge-title"]):not([class*="viewer-title"]):not([class*="editor-header"]):not([class*="viewer-header"]):not([class*="entry-preview"]):not([class*="entry-content"]),
[data-theme="temple-of-darkness"] h1,
[data-theme="temple-of-darkness"] h2,
[data-theme="temple-of-darkness"] h3:not(.viewer-header h3):not(.editor-header h3),
[data-theme="temple-of-darkness"] h4,
[data-theme="temple-of-darkness"] h5,
[data-theme="temple-of-darkness"] h6,
[data-theme="temple-of-darkness"] label,
[data-theme="temple-of-darkness"] li,
[data-theme="temple-of-darkness"] td,
[data-theme="temple-of-darkness"] th {
  color: var(--text-primary) !important;
  text-shadow: var(--text-glow) !important;
}

/* Secondary text elements */
[data-theme="temple-of-darkness"] .text-secondary,
[data-theme="temple-of-darkness"] [class*="secondary"]:not([class*="entry"]):not([class*="badge"]) {
  color: var(--text-secondary) !important;
  text-shadow: var(--text-glow) !important;
}

/* Muted text elements */
[data-theme="temple-of-darkness"] .text-muted,
[data-theme="temple-of-darkness"] [class*="muted"]:not([class*="entry"]):not([class*="badge"]),
[data-theme="temple-of-darkness"] small:not([class*="entry"]):not([class*="badge"]) {
  color: var(--text-muted) !important;
  text-shadow: var(--text-glow) !important;
}

/* Keep entry titles and text bright white (exclude from maroon) */
[data-theme="temple-of-darkness"] .entry-item-title,
[data-theme="temple-of-darkness"] .period-entry-title,
[data-theme="temple-of-darkness"] .month-entry-title,
[data-theme="temple-of-darkness"] .week-entry-title,
[data-theme="temple-of-darkness"] .linked-entry-title,
[data-theme="temple-of-darkness"] .entry-item-preview,
[data-theme="temple-of-darkness"] .month-entry-preview,
[data-theme="temple-of-darkness"] .period-entry-content,
[data-theme="temple-of-darkness"] .viewer-header h3,
[data-theme="temple-of-darkness"] .editor-header h3,
[data-theme="temple-of-darkness"] .badge-title {
  color: var(--text-title-bright) !important;
  text-shadow: 
    0 1px 2px rgba(0, 0, 0, 0.9),
    0 0 4px rgba(0, 0, 0, 0.8),
    0 0 8px rgba(0, 0, 0, 0.6),
    0 0 12px rgba(0, 0, 0, 0.4) !important;
}

/* About Page */
[data-theme="temple-of-darkness"] .about-container {
  background: var(--temple-bg);
  color: var(--text-primary) !important;
  text-shadow: var(--text-glow) !important;
}

[data-theme="temple-of-darkness"] .about-section {
  background: var(--temple-bg-secondary);
  border: 2px solid var(--sith-red);
  border-radius: 4px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);
}

[data-theme="temple-of-darkness"] .about-link {
  color: var(--sith-red);
}

[data-theme="temple-of-darkness"] .about-link:hover {
  color: var(--sith-red-bright);
}

